(this.webpackJsonppietjesbak=this.webpackJsonppietjesbak||[]).push([[0],{19:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var a="https://pietjesbak.herokuapp.com/",s="https://www.boardgamegeek.com/xmlapi/collection/de%20pietjesbak?own=1",r="https://www.boardgamegeek.com/xmlapi/boardgame/",i="pk.eyJ1IjoibG9yZ2FuMyIsImEiOiJjamxocmNzbmgwNHJvM3BudnV5NmM5dDU4In0.n01kRSSpjingBJyyrledLg",c=585},38:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},53:function(e,t,n){},58:function(e,t,n){},66:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);n(44),n(45),n(46),n(47);var a=n(2),s=n.n(a),r=n(37),i=n(5),c=n.n(i),o=n(7),l=n(6),u=n(8),h=n(11),d=n(10),p=(n(53),n(24)),m=n(9),j=n(23),b=n(41),f=n.n(b),g=(n(58),n(13)),v=n.n(g),x=n(1);function O(e){var t=e.className,n=e.renderTitle,a=e.paragraphs,s=e.paragraphSize,r=e.paragraphFn,i=e.error;return Object(x.jsxs)("div",{className:v()(t,"placeholder-text",{error:i}),children:[i?Object(x.jsxs)("div",{className:"placeholder-error",children:[Object(x.jsx)("i",{className:"icon-attention placeholder-error-icon"}),Object(x.jsx)("span",{children:i})]}):null,!1!==n?Object(x.jsx)("div",{className:"placeholder-title"}):void 0,new Array(a||1).fill(null).map((function(e,t){return function(e,t,n){return void 0!==n?n(e):Object(x.jsx)("p",{className:"placeholder-paragraph",children:new Array(t||1).fill(null).map((function(e,t){return Object(x.jsx)("span",{},t)}))},e)}(t,s,r)}))]})}var y=f()({loader:function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,84))},loading:function(e){return Object(x.jsx)(O,{renderTitle:!1,paragraphSize:8,error:e.error?"Fout bij het laden van de kaart.":void 0})}}),w=n(14),k=(n(38),n(42)),N=n(19),P=n(22),E=n(34),S=n(28);n(60),n(62);S.a.initializeApp({apiKey:"AIzaSyBMBP0S071zw1cg6l2F7fdffYmls888LyY",authDomain:"pietjesbak-e8186.firebaseapp.com",databaseURL:"https://pietjesbak-e8186.firebaseio.com",messagingSenderId:"198433139089",projectId:"pietjesbak-e8186",storageBucket:""});var C,L=new S.a.auth.GoogleAuthProvider,M=S.a.auth(),_=S.a.database(),D=(S.a,function(e){return void 0!==e}),T=function e(t){Object(l.a)(this,e),this.id=void 0,this.collectionId=void 0,this.name=void 0,this.year=void 0,this.image=void 0,this.thumbnail=void 0,this.stats=void 0,this.details=void 0,this.requestsThisMonth=0,this.requestedByMe=!1,this.id=Number(t.attributes.objectid.nodeValue),this.collectionId=Number(t.attributes.collid.nodeValue),this.name=String(t.getElementsByTagName("name")[0].childNodes[0].nodeValue),this.year=void 0,this.image=String(t.getElementsByTagName("image")[0].childNodes[0].nodeValue),this.thumbnail=String(t.getElementsByTagName("thumbnail")[0].childNodes[0].nodeValue),this.stats=new G(t.getElementsByTagName("stats")[0]);var n=t.getElementsByTagName("yearpublished");1===n.length&&(this.year=Number(n[0].childNodes[0].nodeValue))},G=function(){function e(t){Object(l.a)(this,e),this.minPlayers=void 0,this.maxPlayers=void 0,this.minPlaytime=void 0,this.maxPlaytime=void 0,this.rating=void 0,this.minPlayers=Number(t.attributes.minplayers.nodeValue),this.maxPlayers=Number(t.attributes.maxplayers.nodeValue),this.minPlaytime=void 0!==t.attributes.minplaytime?Number(t.attributes.minplaytime.nodeValue):void 0,this.maxPlaytime=void 0!==t.attributes.maxplaytime?Number(t.attributes.maxplaytime.nodeValue):void 0,this.rating=Number(t.getElementsByTagName("average")[0].attributes.value.nodeValue)}return Object(u.a)(e,[{key:"players",get:function(){return this.minPlayers===this.maxPlayers?"".concat(this.minPlayers," spelers"):"".concat(this.minPlayers," - ").concat(this.maxPlayers," spelers")}},{key:"playtime",get:function(){return void 0===this.minPlaytime&&void 0===this.maxPlaytime?"???":void 0===this.minPlaytime?"".concat(this.maxPlaytime," minuten"):void 0===this.maxPlaytime||this.minPlaytime===this.maxPlaytime?"".concat(this.minPlaytime," minuten"):"".concat(this.minPlaytime," - ").concat(this.maxPlaytime," minuten")}}]),e}(),A=function(){function e(t,n){var a=this;Object(l.a)(this,e),this.description=void 0,this.categories=void 0,this.family=void 0,this.mechanics=void 0,this.expansions=void 0,this.domain=void 0,this.ownedExpansions=new Map,this.otherExpansions=new Map,this.description=String(t.getElementsByTagName("description")[0].childNodes[0].nodeValue),this.categories=Object(w.a)(t.getElementsByTagName("boardgamecategory")).filter(D).map((function(e){return String(e.childNodes[0].nodeValue)}));var s=t.getElementsByTagName("boardgamefamily");1===s.length&&(this.family=String(s[0].childNodes[0].nodeValue)),this.mechanics=Object(w.a)(t.getElementsByTagName("boardgamemechanic")).filter(D).map((function(e){return String(e.childNodes[0].nodeValue)})),this.expansions=new Map,Object(w.a)(t.getElementsByTagName("boardgameexpansion")).filter(D).forEach((function(e){return a.expansions.set(Number(e.attributes.objectid.nodeValue),String(e.childNodes[0].nodeValue))})),this.domain=Object(w.a)(t.getElementsByTagName("boardgamesubdomain")).filter(D).map((function(e){return String(e.childNodes[0].nodeValue)})),this.updateOwnedExpansions(n)}return Object(u.a)(e,[{key:"updateOwnedExpansions",value:function(e){var t=this,n=Object(w.a)(this.expansions.entries());this.ownedExpansions=new Map,n.filter((function(t){var n=Object(P.a)(t,2),a=n[0];n[1];return e.has(a)})).forEach((function(e){var n=Object(P.a)(e,2),a=n[0],s=n[1];return t.ownedExpansions.set(a,s)})),this.otherExpansions=new Map,n.filter((function(t){var n=Object(P.a)(t,2),a=n[0];n[1];return!1===e.has(a)})).forEach((function(e){var n=Object(P.a)(e,2),a=n[0],s=n[1];return t.otherExpansions.set(a,s)}))}},{key:"descriptionArray",get:function(){var e=(new DOMParser).parseFromString(this.description,"text/html"),t=!1;return Object(w.a)(e.body.childNodes).map((function(e){return t?(t=!1,""):void 0!==e.href?(t=!0,e.href):null!==e.nodeValue?e.nodeValue:""}))}}]),e}();!function(e){e[e.GAME_DATA=0]="GAME_DATA",e[e.USER=1]="USER"}(C||(C={}));var z=function(){function e(){Object(l.a)(this,e),this.fetchGamePromise_=null,this.ownRequestedGames_=null,this.requestedGames_=null,this.changeListeners_=new Map,this.user_=null,this.users_=new Map,this.message_=null,this.firebaseWaitForAuthChange_(),this.getFirebaseRequests_()}return Object(u.a)(e,[{key:"getGames",value:function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===this.fetchGamePromise_&&(this.fetchGamePromise_=this.fetchGames_()),e.next=3,this.fetchGamePromise_;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleGame",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNextEventDate();case 2:if(n=e.sent.date,a=this.ownRequestedGames_.get(t.id),null!==this.user_){e.next=6;break}throw new Error("You need to be logged in to request a game.");case 6:if(void 0!==a){e.next=11;break}return e.next=9,_.ref("requests/".concat(n.getFullYear(),"/").concat(n.getMonth(),"/").concat(this.user_.uid,"/")).push(t.id);case 9:e.next=13;break;case 11:return e.next=13,_.ref("requests/".concat(n.getFullYear(),"/").concat(n.getMonth(),"/").concat(this.user_.uid,"/").concat(a,"/")).remove();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchGameDetails",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.details){e.next=2;break}return e.abrupt("return");case 2:return t.details=null,e.prev=3,e.next=6,this.getGames();case 6:return n=e.sent,e.next=9,fetch(N.b+N.a+t.id);case 9:return a=e.sent,e.t0=new DOMParser,e.next=13,a.text();case 13:e.t1=e.sent,s=e.t0.parseFromString.call(e.t0,e.t1,"text/xml"),t.details=new A(s.children[0].children[0],n),e.next=22;break;case 18:throw e.prev=18,e.t2=e.catch(3),t.details=void 0,e.t2;case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,this,[[3,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addChangeListener",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===this.changeListeners_.has(t)?this.changeListeners_.set(t,[n]):this.changeListeners_.get(t).push(n),t!==C.GAME_DATA){e.next=9;break}if(null===this.requestedGames_){e.next=9;break}return e.t0=n,e.t1=this,e.next=7,this.getGames();case 7:e.t2=e.sent,e.t0.call.call(e.t0,e.t1,e.t2);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeChangeListener",value:function(e,t){!0===this.changeListeners_.has(e)&&this.changeListeners_.get(e).splice(this.changeListeners_.get(e).indexOf(t),1)}},{key:"user",get:function(){return this.user_}},{key:"users",get:function(){return this.users_}},{key:"getNextEventDate",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,n,a,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.prev=1,e.next=4,this.getMessage();case 4:a=e.sent,n=new Date(a.date),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Failed to get next event date."),n=new Date;case 12:for(s=new Date,r=0;r<2&&s>n;r++)t=!1,n.setFullYear(s.getFullYear()),n.setMonth(s.getMonth()+r),n.setDate(1),n.setDate(14+(5-n.getDay()+7)%7+1);return e.abrupt("return",{confirmed:t,date:n});case 15:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessage",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.message_){e.next=8;break}return e.next=3,_.ref("message").once("value");case 3:if(t=e.sent,null!==(n=t.val())){e.next=7;break}throw new Error("Message is empty!");case 7:this.message_={title:n.title,body:n.body,date:new Date(n.date)};case 8:return e.abrupt("return",this.message_);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateMessage",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.ref("message").set({title:t,body:n,date:a});case 2:this.message_=null;case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=this;return new Promise((function(t){M.signOut().then((function(){e.user_=null,t()}))}))}},{key:"login",value:function(){var e=this;return new Promise((function(t,n){M.signInWithRedirect(L).then((function(){M.getRedirectResult().then((function(n){e.user_=n.user,t(e.user_)})).catch((function(e){console.error(e),n()}))}))}))}},{key:"sleep_",value:function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){window.setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchGames_",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,n,a,s,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(N.e);case 3:if(200===(t=e.sent).status){e.next=6;break}throw new Error("Collection not yet available.");case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log("Trying again in 3 seconds: ".concat(e.t0)),e.next=13,this.sleep_(3e3);case 13:if(void 0===t||200!==t.status){e.next=0;break}case 14:return e.t1=new DOMParser,e.next=17,t.text();case 17:e.t2=e.sent,n=e.t1.parseFromString.call(e.t1,e.t2,"text/xml"),a=new Map,s=Object(E.a)(n.children[0].children);try{for(s.s();!(r=s.n()).done;)i=r.value,o=new T(i),a.set(o.id,o)}catch(c){s.e(c)}finally{s.f()}return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"firebaseWaitForAuthChange_",value:function(){var e=this;M.onAuthStateChanged(function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}return e.user_=n,t.next=4,_.ref("admins").once("value");case 4:a=t.sent,e.user_.admin=void 0!==a.val()[n.uid],t.next=9;break;case 8:e.user_=null;case 9:!0===e.changeListeners_.has(C.USER)&&e.changeListeners_.get(C.USER).forEach((function(t){return t.call(e,e.user_)}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getFirebaseRequests_",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNextEventDate();case 2:t=e.sent.date,_.ref("requests/".concat(t.getFullYear(),"/").concat(t.getMonth(),"/")).on("value",function(){var e=Object(o.a)(c.a.mark((function e(t){var a,s,r,i,o,l,u,h,d,p,m,j,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=12;break}for(r in a=t.val(),s=null!==n.user_?n.user_.uid:void 0,n.ownRequestedGames_=new Map,n.requestedGames_=new Map,a){if(i=Object(w.a)(new Set(Object.values(a[r]))),r===s)for(o=Object.keys(a[r]),l=0;l<i.length;l++)n.ownRequestedGames_.set(i[l],o[l]);for(u=0;u<i.length;u++)n.requestedGames_.set(i[u],1+(n.requestedGames_.get(i[u])||0))}return e.next=8,n.getGames();case 8:h=e.sent,d=Object(E.a)(h.entries());try{for(d.s();!(p=d.n()).done;)m=Object(P.a)(p.value,2),j=m[0],(b=m[1]).requestsThisMonth=n.requestedGames_.get(j)||0,b.requestedByMe=n.ownRequestedGames_.has(j)}catch(c){d.e(c)}finally{d.f()}!0===n.changeListeners_.has(C.GAME_DATA)&&n.changeListeners_.get(C.GAME_DATA).forEach((function(e){return e.call(n,h)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),q=n(20),R=new z,W=s.a.createContext(R),I=(W.Provider,W.Consumer);function B(e){return function(t){return Object(x.jsx)(I,{children:function(n){return Object(x.jsx)(e,Object(q.a)(Object(q.a)({},t),{},{inventory:n}))}})}}function V(e,t,n){var a=parseInt(e.slice(1),16),s=parseInt(t.slice(1),16),r=a>>16,i=a>>8&255,c=255&a,o=s>>16,l=s>>8&255,u=255&s;return"#"+(16777216+65536*(Math.round((o-r)*n)+r)+256*(Math.round((l-i)*n)+i)+(Math.round((u-c)*n)+c)).toString(16).slice(1)}function F(e,t){return e.toLocaleString("nl",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:t?"numeric":void 0,minute:t?"numeric":void 0})}function H(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e}var U=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).showFullDetails=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&(t.preventDefault(),t.stopPropagation()),n=!a.state.expanded,a.setState({expanded:n}),!0!==n){e.next=14;break}return e.prev=4,e.next=7,a.props.inventory.fetchGameDetails(a.state.game);case 7:a.setState(a.state),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0),a.setState({error:!0});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),a.requestClick=function(e){e.preventDefault(),e.stopPropagation(),a.props.inventory.toggleGame(a.state.game)},a.expansionClick=function(e){null!==a.props.expansionClick&&(e.preventDefault(),e.stopPropagation(),a.props.expansionClick(Number(e.target.dataset.expansion)))},a.stopPropagation=function(e){return e.stopPropagation()},a.state={error:!1,expanded:!1,game:e.game},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.expanded!==this.state.expanded&&this.showFullDetails()}},{key:"componentDidUpdate",value:function(){!0===this.props.expanded&&window.scrollTo(0,this.refs.element.offsetTop)}},{key:"componentWillReceiveProps",value:function(e){this.setState({game:e.game}),e.expanded!==this.state.expanded&&this.showFullDetails()}},{key:"renderDetails",value:function(){if(!1!==this.state.expanded)return!0===this.state.error?Object(x.jsxs)("div",{className:"full-details error",children:[Object(x.jsx)("h2",{children:"Er is iets misgelopen!"}),Object(x.jsx)("span",{children:"Je kan de pagina proberen herladen, stuur ons gerust een mailtje als het blijft gebeuren!"})]}):null===this.state.game.details||void 0===this.state.game.details?Object(x.jsx)("div",{className:"full-details",children:Object(x.jsx)("div",{className:"spinner",children:Object(x.jsx)("i",{className:"icon-spin1 animate-spin"})})}):Object(x.jsxs)("div",{className:"full-details",children:[Object(x.jsxs)("div",{className:"warning",children:[Object(x.jsx)("i",{className:"icon-attention"}),"Deze info wordt van"," ",Object(x.jsx)("a",{target:"blank",href:"https://www.boardgamegeek.com/boardgame/".concat(this.state.game.id,"/"),children:"boardgamegeek"})," ","gehaald en is dus in het Engels."]}),Object(x.jsxs)("h3",{children:[Object(x.jsx)("i",{className:"icon-info"})," Beschrijving"]}),Object(x.jsx)("p",{className:"description",children:this.state.game.details.descriptionArray.map((function(e,t){return e.startsWith("http")?Object(x.jsx)("a",{href:e,children:e},t):Object(x.jsx)("span",{children:e},t)}))}),Object(x.jsxs)("dl",{children:[this.renderlist("icon-tag","Categorie\xebn","categories"),this.renderlist("icon-cog","Mechanics","mechanics"),this.renderlist("icon-users","Soort","domain"),this.renderlist("icon-globe","Thema","family")]}),this.renderExpansions()]})}},{key:"renderlist",value:function(e,t,n){var a=this.state.game.details[n];if(void 0!==a&&0!==a.length)return!1===Array.isArray(a)&&(a=[a]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("dt",{children:[Object(x.jsx)("i",{className:e})," ",t]}),Object(x.jsx)("dd",{children:Object(x.jsx)("ul",{className:"tag-list",children:a.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})})]})}},{key:"renderExpansions",value:function(){var e=this;if(0!==this.state.game.details.ownedExpansions.size)return Object(x.jsxs)("section",{children:[Object(x.jsxs)("h3",{children:[Object(x.jsx)("i",{className:"icon-puzzle"})," Uitbreidingen"]}),Object(x.jsx)("ul",{className:"tag-list",children:Object(w.a)(this.state.game.details.ownedExpansions).map((function(t){var n=Object(P.a)(t,2),a=n[0],s=n[1];return Object(x.jsx)("li",{children:Object(x.jsxs)("a",{target:"blank",href:"https://www.boardgamegeek.com/boardgame/".concat(a,"/"),onClick:e.expansionClick,"data-expansion":a,children:[Object(x.jsx)("i",{className:"icon-ok"}),s]})},a)}))})]})}},{key:"renderRequestButton",value:function(){var e,t;if(t=this.state.game.requestedByMe?"icon-heart":"icon-heart-empty",0===this.state.game.requestsThisMonth)e="Speel dit spel volgende keer";else if(1===this.state.game.requestsThisMonth)e=!0===this.state.game.requestedByMe?"Jij wil dit spelen":"Iemand wil dit spelen";else if(!0===this.state.game.requestedByMe){var n=this.state.game.requestsThisMonth>2?"anderen":"andere";e="Jij en ".concat(this.state.game.requestsThisMonth-1," ").concat(n," willen dit spelen")}else e="".concat(this.state.game.requestsThisMonth," anderen willen dit spelen");return null===this.props.inventory.user?Object(x.jsx)("div",{className:"info pointer",children:Object(x.jsx)("span",{className:"hover",onClick:this.stopPropagation,children:Object(x.jsxs)(j.a,{content:"Log in om aan te geven dat je dit spel wil spelen",children:[Object(x.jsx)("i",{className:t})," ",Object(x.jsx)("span",{className:"whitespace-normal",children:e})]})})}):Object(x.jsx)("div",{className:"info pointer",children:Object(x.jsxs)("span",{className:"hover",onClick:this.requestClick,children:[Object(x.jsx)("i",{className:t})," ",Object(x.jsx)("span",{className:"whitespace-normal",children:e})]})})}},{key:"render",value:function(){return Object(x.jsxs)("li",{className:this.state.expanded?"expanded":"",ref:"element",children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("div",{className:"thumb-holder pointer",onClick:this.showFullDetails,children:Object(x.jsx)("img",{src:this.state.game.thumbnail,alt:this.state.game.name})}),Object(x.jsxs)("div",{className:"details",children:[Object(x.jsx)("h3",{className:"pointer",onClick:this.showFullDetails,children:this.state.game.name}),Object(x.jsxs)("div",{className:"info-holder",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("i",{className:"icon-users"})," ",this.state.game.stats.players]}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("i",{className:"icon-clock"})," ",this.state.game.stats.playtime]}),this.renderRequestButton()]}),Object(x.jsx)("div",{className:"score",style:{borderColor:V("#FF0000","#00FF00",this.state.game.stats.rating/12)},children:this.state.game.stats.rating.toFixed(1)})]})]})]}),this.renderDetails()]},this.state.game.id)}}]),n}(s.a.Component);U.defaultProps={expanded:!1,expansionClick:null};var Y=B(U),J=n(29),X=(n(66),["className","error"]);function Z(e){var t=e.className,n=e.error,a=Object(J.a)(e,X);return Object(x.jsx)("div",Object(q.a)({className:v()(t,"container",{error:n})},a))}var K,Q=B(function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).url=void 0,a.gamesPerLazyLoad=void 0,a.loaderInterval=void 0,a.updateGames=function(e){a.setState({games:e}),a.onPageChanged(a.state.page)},a.lazyLoader=function(){a.state.gamesPerPage<a.state.filteredGames.length&&((document.documentElement.scrollTop||document.body.scrollTop)+document.documentElement.clientHeight>=document.documentElement.scrollHeight-200||document.documentElement.scrollHeight===document.documentElement.clientHeight)&&a.setState({gamesPerPage:a.state.gamesPerPage+a.gamesPerLazyLoad})},a.onPageChanged=function(e){e<0&&(e=0);var t=a.filterGames();e>Math.floor(t.length/a.state.gamesPerPage)&&(e=Math.floor(t.length/a.state.gamesPerPage)),a.url.searchParams.set("p",String(e)),a.setState({page:e,filteredGames:t})},a.searchChange=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object.assign({},a.state.search))[t.target.dataset.key]=t.target.value,e.next=4,a.setState({search:n,gamesPerPage:a.gamesPerLazyLoad,defaultExpands:[]});case 4:a.onPageChanged(a.state.page);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.searchExpansion=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.inventory.getGames();case 2:if(void 0===(n=e.sent.get(t))){e.next=7;break}return a.refs.input.value=n.name,e.next=7,a.setState({search:{q:n.name,o:0},gamesPerPage:a.gamesPerLazyLoad,defaultExpands:[t],filteredGames:[n],page:0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.url=new URL(window.location.href),void 0===a.url.searchParams&&(console.log("Please use a real browser \u10da(\u0ca0\u76ca\u0ca0\u10da)"),a.url.searchParams=new Map),a.gamesPerLazyLoad=5,a.state={defaultExpands:[],error:!1,filteredGames:[],games:null,gamesPerPage:a.gamesPerLazyLoad,loaderDots:"",page:Number(a.url.searchParams.get("p"))||0,search:{o:0,q:""}},a.loaderInterval=null,fetch(N.b),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.progressDots(),this.props.inventory.addChangeListener(C.GAME_DATA,this.updateGames),window.addEventListener("scroll",this.lazyLoader),window.addEventListener("resize",this.lazyLoader)}},{key:"componentWillUnmount",value:function(){null!==this.loaderInterval&&clearInterval(this.loaderInterval),window.removeEventListener("scroll",this.lazyLoader),window.removeEventListener("resize",this.lazyLoader),this.props.inventory.removeChangeListener(C.GAME_DATA,this.updateGames)}},{key:"componentDidUpdate",value:function(){this.lazyLoader()}},{key:"progressDots",value:function(){if(null===this.state.games){var e=this.state.loaderDots;e.length>=3&&(e=""),e+=".",this.setState({loaderDots:e}),this.loaderInterval=window.setTimeout(this.progressDots.bind(this),300)}}},{key:"filterGames",value:function(){if(null===this.state.games)return[];var e=Object(w.a)(this.state.games.values()),t=new RegExp(Object(k.a)(this.state.search.q).split(" ").join("|"),"i");if(void 0!==this.state.search.q&&(e=e.filter((function(e){return-1!==e.name.search(t)}))),void 0!==this.state.search.o){var a=n.gameOrder(),s=Object.keys(a)[this.state.search.o];e=e.sort(a[s])}return e}},{key:"renderLoader",value:function(){return Object(x.jsxs)(Z,{children:[Object(x.jsxs)("h2",{children:["De spellencollectie wordt van"," ",Object(x.jsx)("a",{href:"https://boardgamegeek.com/user/de%20pietjesbak/games",children:"Boardgamegeek"})," ","gehaald."]}),Object(x.jsxs)("span",{children:["Dit kan even duren",this.state.loaderDots]})]})}},{key:"renderError",value:function(){return Object(x.jsxs)(Z,{error:!0,children:[Object(x.jsx)("h2",{children:"Er is iets misgelopen!"}),Object(x.jsx)("span",{children:"Je kan de pagina proberen herladen, stuur ons gerust een mailtje als het blijft gebeuren!"})]})}},{key:"renderGames",value:function(){var e,t=this,a=this.state.filteredGames.slice(this.state.page*this.state.gamesPerPage,this.state.page*this.state.gamesPerPage+this.state.gamesPerPage);return e=0===this.state.filteredGames.length?Object(x.jsx)("h3",{className:"no-results",children:"Geen resultaten!"}):Object(x.jsxs)("ul",{className:"games",children:[a.map((function(e){return Object(x.jsx)(Y,{game:e,expanded:-1!==t.state.defaultExpands.indexOf(e.id),expansionClick:t.searchExpansion},e.id)})),this.state.filteredGames.length>this.state.gamesPerPage?Object(x.jsx)("li",{className:"spinner",children:Object(x.jsx)("i",{className:"icon-spin1 animate-spin"})}):""]}),Object(x.jsxs)("div",{className:"bgg-list",children:[Object(x.jsxs)("div",{className:"searchbar",children:[Object(x.jsx)("h3",{children:"Zoeken"}),Object(x.jsx)("input",{type:"text",className:"search","data-key":"q",onChange:this.searchChange,ref:"input"}),Object(x.jsx)("select",{className:"order","data-key":"o",onChange:this.searchChange,children:Object.keys(n.gameOrder()).map((function(e,t){return Object(x.jsx)("option",{value:t,children:e},t)}))}),Object(x.jsxs)("p",{className:"matches",children:[this.state.filteredGames.length," ",1===this.state.filteredGames.length?"spel":"spellen"]})]}),Object(x.jsx)("div",{className:"content",children:e})]})}},{key:"render",value:function(){return!0===this.state.error?this.renderError():null===this.state.games?this.renderLoader():this.renderGames()}}],[{key:"gameOrder",value:function(){return{Alfabetisch:function(e,t){return e.name.localeCompare(t.name)},"Aantal spelers \u2191":function(e,t){return e.stats.minPlayers-t.stats.minPlayers||e.stats.maxPlayers-t.stats.maxPlayers},"Aantal spelers \u2193":function(e,t){return t.stats.maxPlayers-e.stats.maxPlayers||t.stats.minPlayers-e.stats.minPlayers},"Spelduur \u2191":function(e,t){return e.stats.minPlaytime-t.stats.minPlaytime||e.stats.maxPlaytime-t.stats.maxPlaytime},"Spelduur \u2193":function(e,t){return t.stats.maxPlaytime-e.stats.maxPlaytime||t.stats.minPlaytime-e.stats.minPlaytime},Publicatie:function(e,t){return t.year-e.year},Score:function(e,t){return t.stats.rating-e.stats.rating}}}}]),n}(s.a.Component)),$=["children","className","title","header","storeCollapsed"],ee=["children","className","title","header","storeCollapsed"];!function(e){e[e.SHOWN=0]="SHOWN",e[e.SHOWN_ON_HOVER=1]="SHOWN_ON_HOVER",e[e.SHOWN_COLLAPSED=2]="SHOWN_COLLAPSED"}(K||(K={}));var te=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).toggle=function(){var e=!a.state.collapsed;a.setState({collapsed:e}),a.props.storeCollapsed&&a.props.title&&localStorage.setItem(encodeURIComponent(a.props.title),String(e))};var s=null;if(e.storeCollapsed&&e.title){var r=localStorage.getItem(encodeURIComponent(e.title));null!==r&&(s="true"===r)}return null===s&&(s=e.defaultCollapsed||!1),a.state={collapsed:s},a}return Object(u.a)(n,[{key:"render",value:function(){return this.state.collapsed?this.renderCollapsed():this.renderExpanded()}},{key:"renderCollapsed",value:function(){var e=this.props,t=(e.children,e.className),n=e.title,a=e.header,s=(e.storeCollapsed,Object(J.a)(e,$));return Object(x.jsx)(Z,Object(q.a)(Object(q.a)({className:v()(t,"collapsable")},s),{},{children:Object(x.jsxs)("h3",{className:v()("collapsed-header",{hover:a===K.SHOWN_ON_HOVER}),onClick:this.toggle,children:[Object(x.jsx)("i",{className:"container-button icon-window-maximize"}),Object(x.jsx)("span",{children:n})]})}))}},{key:"renderExpanded",value:function(){var e=this.props,t=e.children,n=e.className,a=e.title,s=e.header,r=(e.storeCollapsed,Object(J.a)(e,ee));return Object(x.jsxs)(Z,Object(q.a)(Object(q.a)({className:v()(n,"collapsable")},r),{},{children:[Object(x.jsxs)("h3",{className:v()("collapsed-header",{hover:s===K.SHOWN_ON_HOVER||s===K.SHOWN_COLLAPSED}),onClick:this.toggle,children:[Object(x.jsx)("i",{className:"container-button icon-window-minimize"}),Object(x.jsx)("span",{children:a})]}),Object(x.jsx)("div",{className:"content",children:t})]}))}}]),n}(s.a.Component);te.defaultProps={header:K.SHOWN};var ne,ae=B(function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).updateGames=function(e){var t=Object(w.a)(e.values()).filter((function(e){return e.requestsThisMonth>0})).sort((function(e,t){return t.requestsThisMonth-e.requestsThisMonth||t.stats.rating-e.stats.rating}));a.setState({requestedGames:t})},a.state={requestedGames:null,nextEvent:null},fetch(N.b),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.inventory.addChangeListener(C.GAME_DATA,this.updateGames),e.t0=this,e.next=4,this.props.inventory.getNextEventDate();case 4:e.t1=e.sent,e.t2={nextEvent:e.t1},e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.inventory.removeChangeListener(C.GAME_DATA,this.updateGames)}},{key:"render",value:function(){var e=Object(x.jsx)("span",{children:"de volgende keer"});return null!==this.state.nextEvent&&(e=Object(x.jsxs)("span",{children:[F(this.state.nextEvent.date,!1)," ",Object(x.jsxs)("span",{className:"mute",children:[" ",this.state.nextEvent.confirmed?"":"(nog niet vastgelegd)"]})]})),null===this.state.requestedGames?Object(x.jsxs)(te,{title:"Aanvragen",header:K.SHOWN_COLLAPSED,storeCollapsed:!0,children:[Object(x.jsxs)("h3",{children:["Aanvragen voor ",e]}),Object(x.jsx)(O,{renderTitle:!1,paragraphSize:4})]}):0===this.state.requestedGames.length?Object(x.jsxs)(te,{title:"Aanvragen",header:K.SHOWN_COLLAPSED,storeCollapsed:!0,children:[Object(x.jsxs)("h3",{children:["Aanvragen voor ",e]}),Object(x.jsxs)("p",{children:["Er zijn nog geen aanvragen. ",Object(x.jsx)("br",{}),"Geef aan welk spel je volgende keer graag wil spelen op de"," ",Object(x.jsx)(p.b,{to:"/games",children:"games"})," pagina! ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"Of neem gerust enkele van je eigen spellen mee."]})]}):Object(x.jsxs)(te,{title:"Aanvragen",header:K.SHOWN_COLLAPSED,storeCollapsed:!0,children:[Object(x.jsxs)("h3",{children:["Aanvragen voor ",e]}),Object(x.jsx)("ul",{className:"games",children:this.state.requestedGames.map((function(e){return Object(x.jsx)(Y,{game:e},e.id)}))})]})}}]),n}(s.a.Component)),se=(n(69),n(70),n(71));!function(e){e[e.SMALL=0]="SMALL",e[e.BIG=1]="BIG",e[e.AUTO=2]="AUTO"}(ne||(ne={}));var re=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleResize=se((function(){a.props.behaviour===ne.AUTO&&a.setState({windowWidth:window.innerWidth})})),a.state={windowWidth:window.innerWidth,active:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){return(this.state.windowWidth<=N.c||this.props.behaviour===ne.SMALL)&&this.props.behaviour!==ne.BIG?this.renderSmall():this.renderBig()}},{key:"renderBig",value:function(){return Object(x.jsxs)("button",{className:v()("button",this.props.subClass),onClick:this.props.action,children:[Object(x.jsx)("i",{className:"icon-"+this.props.icon})," ",this.props.text]})}},{key:"renderSmall",value:function(){return Object(x.jsx)(j.a,{content:this.props.text,placement:this.props.placement,children:Object(x.jsx)("button",{className:v()("small-button",this.props.subClass),onClick:this.props.action,children:Object(x.jsx)("i",{className:"icon-"+this.props.icon})})})}}]),n}(s.a.Component);re.defaultProps={behaviour:ne.AUTO};var ie=B(function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).toggleMessage=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==a.state.editing){e.next=4;break}return e.next=3,a.props.inventory.updateMessage(a.refs.title.value,a.refs.body.value,new Date(a.refs.date.value).getTime());case 3:a.updateMessage();case 4:a.setState({editing:!1===a.state.editing});case 5:case"end":return e.stop()}}),e)}))),a.state={editing:!1,event:null,error:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateMessage()}},{key:"updateMessage",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.inventory.getMessage();case 3:t=e.sent,this.setState({event:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),this.setState({error:!0});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderDate",value:function(e){var t=F(e,!0);return Date.now()-e.getTime()<0?Object(x.jsx)("div",{className:"date valid",children:Object(x.jsxs)("span",{children:["Op ",t]})}):Date.now()-e.getTime()<18e6?Object(x.jsxs)("div",{className:"date ongoing",children:[Object(x.jsxs)("span",{children:["Op ",t]}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:Object(x.jsx)("strong",{children:"Nu aan de gang!"})})]}):Object(x.jsxs)("div",{className:"date expired",children:[Object(x.jsxs)("span",{children:["Op ",t]}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"Dit event is voorbij, nieuwe events worden meestal 2 weken op voorhand gepland."})]})}},{key:"renderEvent",value:function(e,t){return!0===t?Object(x.jsx)("div",{className:"event",children:Object(x.jsx)("h2",{children:"Er lijkt geen volgend event gepland te zijn."})}):null===e?Object(x.jsx)("div",{className:"event",children:Object(x.jsx)(O,{paragraphs:2,paragraphSize:3})}):!1===this.state.editing?Object(x.jsxs)("div",{className:"event",children:[Object(x.jsx)("h2",{children:e.title}),this.renderDate(e.date),Object(x.jsx)("br",{}),e.body.split("\n").map((function(e,t){return Object(x.jsxs)("span",{children:[e,Object(x.jsx)("br",{})]},t)}))]}):this.renderEditableEvent(e)}},{key:"renderEditableEvent",value:function(e){return Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("input",{type:"text",defaultValue:e.title,ref:"title"}),Object(x.jsx)("input",{type:"datetime-local",defaultValue:new Date(e.date.getTime()-6e4*e.date.getTimezoneOffset()).toISOString().slice(0,-1),ref:"date"}),Object(x.jsx)("textarea",{defaultValue:e.body,ref:"body"})]})}},{key:"render",value:function(){return Object(x.jsxs)(Z,{className:v()("event-card",{error:this.state.error}),children:[Object(x.jsx)("a",{className:"facebook",href:"https://www.facebook.com/gezelschapsspellenpietjesbak/",children:Object(x.jsx)("i",{className:"icon-facebook-squared"})}),this.renderEvent(this.state.event,this.state.error),null!==this.props.inventory.user&&!0===this.props.inventory.user.admin?Object(x.jsx)(re,{subClass:"edit-event",action:this.toggleMessage,icon:"cog",text:this.state.editing?"Opslaan":"Aanpassen",behaviour:ne.SMALL}):Object(x.jsx)("span",{})]})}}]),n}(s.a.Component)),ce=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderBig",value:function(){return Object(x.jsxs)(p.c,{exact:!0,className:v()("button",this.props.subClass),activeClassName:"active",to:this.props.to,children:[Object(x.jsx)("i",{className:"icon-"+this.props.icon})," ",this.props.text]})}},{key:"renderSmall",value:function(){return Object(x.jsx)(j.a,{content:this.props.text,placement:this.props.placement,children:Object(x.jsx)(p.c,{exact:!0,className:v()("small-button",this.props.subClass),activeClassName:"active",to:this.props.to,children:Object(x.jsx)("i",{className:"icon-"+this.props.icon})})})}}]),n}(re),oe=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(a.Component),le=Object(m.f)(oe),ue=(n(72),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).colors=["#e53935","#d81b60","#8e24aa","#5e35b1","#3949ab","#1e88e5","#039be5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a","#59547a"],a.ref=void 0,a.parent=void 0,a.mounted=void 0,a.touches=[],a.touchCache=new Map,a.lingeringTouches=[],a.winner=void 0,a.lastTime=void 0,a.timeout=void 0,a.onParentResize=function(){a.setState({width:a.parent.current.clientWidth,height:a.parent.current.clientHeight})},a.drawCanvas=function(e){var t=1/60;if(void 0===a.lastTime?0!==e&&(a.lastTime=e):(t=e-a.lastTime,a.lastTime=e),a.timeout<1e3&&(a.timeout+=t),a.mounted){var n=Math.max(a.state.width,a.state.height),s=a.ref.current.offsetParent.offsetLeft,r=a.ref.current.offsetParent.offsetTop,i=a.ref.current.getContext("2d");if(null!==i){i.clearRect(0,0,a.state.width,a.state.height),i.globalCompositeOperation="screen";for(var c=a.lingeringTouches.length-1;c>=0;c--){var o=a.lingeringTouches[c];i.beginPath(),i.arc(o.x-s,o.y-r,o.size,0,2*Math.PI),i.fillStyle=o.color,i.fill(),o.size-=10,o.size<=0&&a.lingeringTouches.splice(c,1)}for(var l=0;l<a.touches.length;l++){var u=a.touches[l],h=a.touchCache.get(u.identifier);i.beginPath(),i.arc(u.pageX-s,u.pageY-r,h.size,0,2*Math.PI),i.fillStyle=h.color,i.fill(),i.beginPath(),i.arc(u.pageX-s,u.pageY-r,h.size,h.angle,h.angle+a.timeout/1e3*Math.PI*2),i.strokeStyle=h.color,i.lineWidth=10,i.stroke(),(void 0===a.winner||u.identifier===a.winner)&&a.timeout>=1e3?h.size<1.1*n&&(h.size+=n*Math.sqrt(h.size)*5e-5*t,h.size*=1-l/150):h.size=Math.max(h.size-10,h.minSize),h.size>.9*n&&void 0===a.winner&&(a.winner=u.identifier)}requestAnimationFrame(a.drawCanvas)}}},a.touchStart=function(e){e.preventDefault(),0===a.touches.length&&(H(a.colors),a.winner=void 0),void 0===a.winner&&(a.timeout=0);var t=a.ref.current.offsetParent.offsetLeft,n=a.ref.current.offsetParent.offsetTop;a.handleTouches(e.touches);var s=e.changedTouches[0];a.touchCache.set(s.identifier,{size:40,minSize:40,color:a.colors[s.identifier%a.colors.length],x:s.pageX,y:s.pageY,angle:-Math.atan2(s.pageX-t-a.state.width/2,s.pageY-n-a.state.height/2)-Math.PI/2})},a.touchEnd=function(e){e.preventDefault();var t=e.changedTouches[0],n=a.touchCache.get(t.identifier);a.lingeringTouches.push(n),a.handleTouches(e.touches),a.touchCache.delete(t.identifier)},a.ref=s.a.createRef(),a.parent=s.a.createRef(),a.mounted=!1,a.state={width:200,height:200,noTouch:!0},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.onParentResize(),window.addEventListener("resize",this.onParentResize),this.ref.current.addEventListener("touchstart",this.touchStart),this.ref.current.addEventListener("touchend",this.touchEnd),this.drawCanvas(0)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onParentResize),this.ref.current.removeEventListener("touchstart",this.touchStart),this.ref.current.removeEventListener("touchend",this.touchEnd)}},{key:"handleTouches",value:function(e){this.touches=[];for(var t=0;t<e.length;t++)this.touches.push(e[t]);H(this.touches),this.setState({noTouch:0===this.touches.length})}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"canvas-parent",ref:this.parent,children:[this.state.noTouch?Object(x.jsx)("span",{className:"touchdecider-message",children:"Raak het scherm met 1 vinger aan om te beslissen wie begint."}):null,Object(x.jsx)("canvas",{className:"touchdecider-canvas",width:this.state.width,height:this.state.height,ref:this.ref})]})}}]),n}(s.a.Component)),he=B(function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).logout=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.inventory.logout();case 2:a.setState({username:""});case 3:case"end":return e.stop()}}),e)}))),a.login=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.inventory.login();case 2:t=e.sent,a.setState({username:t.displayName});case 4:case"end":return e.stop()}}),e)}))),a.home=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ie,{}),Object(x.jsx)(ae,{})]})},a.state={username:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.inventory.addChangeListener(C.USER,(function(t){t&&e.setState({username:t.displayName})}))}},{key:"games",value:function(){return Object(x.jsx)(Q,{})}},{key:"info",value:function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(Z,{children:[Object(x.jsx)("h3",{children:"Wie zijn wij?"}),"Spellenclub De pietjesbak is een spellenclub in Gent / Mariakerke."," ",Object(x.jsx)("br",{}),"Elke derde vrijdag van de maand (behalve in juli en augustus) ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"Voor 1 \u20ac inkom is iedereen welkom om een nieuw of oud spel mee te komen spelen. ",Object(x.jsx)("br",{}),"Oud of Jong, moeilijk of makkelijk, we brengen steeds een grote variatie aan spellen mee die ter plaatse uitgelegd worden. ",Object(x.jsx)("br",{}),"We starten rond 19u30 en gaan door tot \xb1 23 a 24u.",Object(x.jsx)("h3",{children:"In 't Geestje"}),Object(x.jsxs)("span",{className:"location",children:["Zandloperstraat 83 ",Object(x.jsx)("br",{}),"9030 Mariakerke"]}),Object(x.jsx)(y,{})]})})}},{key:"touchDecider",value:function(){return Object(x.jsxs)(Z,{className:"no-overflow",children:[Object(x.jsx)("p",{children:"Deze app kan gebruikt worden om een start speler te bepalen. Iedere speler plaatst 1 vinger op het scherm, de speler wiens kleur het volledige scherm inneemt, is de start speler!"}),"ontouchstart"in document.documentElement?null:Object(x.jsx)("span",{className:"mute",children:"PS: Dit werkt enkel op apparaten met een touchscreen."}),Object(x.jsx)(ue,{})]})}},{key:"noRoute",value:function(){return Object(x.jsxs)("div",{className:"center not-found",children:[Object(x.jsx)("span",{children:"404"}),Object(x.jsx)("div",{style:{fontSize:"14vw",whiteSpace:"nowrap"},children:"\xaf\\_(\u30c4)_/\xaf"})]})}},{key:"render",value:function(){return Object(x.jsx)(p.a,{children:Object(x.jsx)(le,{children:Object(x.jsxs)("div",{className:"full-height",children:[Object(x.jsxs)("div",{className:"page-wrap",children:[Object(x.jsx)("header",{children:Object(x.jsx)("div",{className:"wrapper",children:Object(x.jsxs)("h1",{children:[Object(x.jsx)("svg",{id:"logo",width:"57",height:"52",children:Object(x.jsx)("path",{d:"M4 25.650635094610966L16.5 4L41.5 4L54 25.650635094610966L41.5 47.30127018922193L16.5 47.30127018922193Z",strokeWidth:"5",fill:"#c33",stroke:"#eee"})}),"Spellenclub De Pietjesbak"]})})}),Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsx)("nav",{className:"menu",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(ce,{icon:"globe",to:"/",text:"Home"})}),Object(x.jsx)("li",{children:Object(x.jsx)(ce,{icon:"megaphone",to:"/info",text:"Info"})}),Object(x.jsx)("li",{children:Object(x.jsx)(ce,{icon:"puzzle",to:"/games",text:"Games"})}),Object(x.jsx)("li",{className:"right",children:null!==this.props.inventory.user?Object(x.jsxs)("button",{onClick:this.logout,children:[Object(x.jsx)("i",{className:"icon-logout"})," Log uit"]}):Object(x.jsxs)("button",{onClick:this.login,children:[Object(x.jsx)("i",{className:"icon-login"})," Log in"]})})]})}),null!==this.props.inventory.user?Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"user-profile",children:Object(x.jsx)(j.a,{content:"Ingeloged als ".concat(this.state.username),placement:"left",children:Object(x.jsx)("img",{alt:this.state.username,src:this.props.inventory.user.photoURL})})})}):null,Object(x.jsxs)(m.c,{children:[Object(x.jsx)(m.a,{exact:!0,path:"/",component:this.home}),Object(x.jsx)(m.a,{path:"/games",component:this.games}),Object(x.jsx)(m.a,{path:"/info",component:this.info}),Object(x.jsx)(m.a,{path:"/startspeler",component:this.touchDecider}),Object(x.jsx)(m.a,{render:this.noRoute})]})]})]}),Object(x.jsxs)("footer",{children:[Object(x.jsxs)("ul",{className:"wrapper",children:[Object(x.jsx)("li",{children:Object(x.jsxs)("a",{href:"https://www.facebook.com/gezelschapsspellenpietjesbak/",children:[Object(x.jsx)("i",{className:"icon-facebook-squared"}),"Like"]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("a",{href:"mailto:pietdecoensel@gmail.com",children:[Object(x.jsx)("i",{className:"icon-mail-alt"}),"Contact"]})})]}),Object(x.jsx)("span",{children:"\xa9 Spellenclub De Pietjesbak \u25cf Lennert Claeys"})]})]})})})}}]),n}(s.a.Component)),de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.render(Object(x.jsx)(he,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");de?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):pe(e)}))}}()}},[[73,1,2]]]);
//# sourceMappingURL=main.14f1ec90.chunk.js.map